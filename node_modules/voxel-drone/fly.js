var HID = require('node-hid');
var devices = HID.devices();
var path = devices[devices.length - 1].path;
var ps3 = new HID.HID(path);
//var drone = arDrone.createClient();
//var ps3Stream = new HIDStream.device(path);

ps3.on('data', function(data) {
	var json = data.toJSON();

	if (data[3] === 128 && data[4] === 0) {
		console.log('Up');
	} else if (data[3] === 128 && data[4] === 255) {
		console.log('Down');
	} else if (data[3] === 0 && data[4] === 128) {
		console.log('Left');
	} else if (data[3] === 255 && data[4] === 128) {
		console.log('Right');
	} else if (data[0] === 1) {
		console.log('Triangle');
	} else if (data[0] === 2) {
		console.log('Circle');
	} else if (data[0] === 4) {
		console.log('X');
	} else if (data[0] === 8) {
		console.log('Square');
	} else if (data[3] === 128 && data[4] === 128) {
		//console.log('press some buttons');
	} else {
		console.log(json);
	}
});

ps3.on('error', function(err) {
	console.log(err);
});

/*
ps3Stream.on('data', function(data) {
	var keyCodes = data.keyCodes;
	console.log(keyCodes);
});
*/
